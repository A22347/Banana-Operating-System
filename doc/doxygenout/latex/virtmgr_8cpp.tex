\hypertarget{virtmgr_8cpp}{}\doxysection{C\+:/\+Users/\+Alex/\+Desktop/\+Banana/kernel/krnl/virtmgr.cpp File Reference}
\label{virtmgr_8cpp}\index{C:/Users/Alex/Desktop/Banana/kernel/krnl/virtmgr.cpp@{C:/Users/Alex/Desktop/Banana/kernel/krnl/virtmgr.cpp}}
{\ttfamily \#include \char`\"{}krnl/common.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}hw/cpu.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}krnl/virtmgr.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}krnl/physmgr.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}fs/vfs.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}thr/prcssthr.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}thr/elf.\+hpp\char`\"{}}\newline
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespace_virt}{Virt}}
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{namespace_virt_ab6c31590a498135e84e9df8576d7484a}{Virt\+::\+Virt\+Page\+State}} \+: uint8\+\_\+t \{ \newline
\mbox{\hyperlink{namespace_virt_ab6c31590a498135e84e9df8576d7484aab24ce0cd392a5b0b8dedc66c25213594}{Virt\+::\+Free}} = 0
, \mbox{\hyperlink{namespace_virt_ab6c31590a498135e84e9df8576d7484aa019d1ca7d50cc54b995f60d456435e87}{Virt\+::\+Used}} = 1
, \mbox{\hyperlink{namespace_virt_ab6c31590a498135e84e9df8576d7484aaa6122a65eaa676f700ae68d393054a37}{Virt\+::\+Start}} = 2
, \mbox{\hyperlink{namespace_virt_ab6c31590a498135e84e9df8576d7484aa87557f11575c0ad78e4e28abedc13b6e}{Virt\+::\+End}} = 3
, \newline
\mbox{\hyperlink{namespace_virt_ab6c31590a498135e84e9df8576d7484aad9d4624af3ef0c5aa1adb8343ffb82e6}{Virt\+::\+Start\+And\+End}} = 4
, \mbox{\hyperlink{namespace_virt_ab6c31590a498135e84e9df8576d7484aa21f02fec4cac4818f699be91ca0b2eae}{Virt\+::\+Unusable}} = 0xF
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{namespace_virt_ab8dec22b5170ef7ee2248fa8718ed40a}{Virt\+::set\+Page\+State}} (size\+\_\+t page\+Num, Virt\+Page\+State state)
\item 
Virt\+Page\+State \mbox{\hyperlink{namespace_virt_a7d912ceb83b8ca6a8990f8ad7b887134}{Virt\+::get\+Page\+State}} (size\+\_\+t page\+Num)
\item 
size\+\_\+t \mbox{\hyperlink{namespace_virt_aff1d9ec899fbac42dfb426957433c5a1}{Virt\+::allocate\+Kernel\+Virtual\+Pages}} (int pages)
\item 
void \mbox{\hyperlink{namespace_virt_a98f977765591627d283d7573fb288819}{Virt\+::free\+Kernel\+Virtual\+Pages}} (size\+\_\+t address)
\item 
void \mbox{\hyperlink{namespace_virt_a243cc3cbcacac311e1fac709346579aa}{Virt\+::free\+Swapfile\+Page}} (size\+\_\+t id)
\item 
size\+\_\+t \mbox{\hyperlink{namespace_virt_aaf924688810ec3bf42eb94afe8347b6b}{Virt\+::swap\+IDTo\+Sector}} (size\+\_\+t id)
\item 
size\+\_\+t \mbox{\hyperlink{namespace_virt_aec160dbe986870b94d37e1286a01ca82}{Virt\+::allocate\+Swapfile\+Page}} ()
\item 
void \mbox{\hyperlink{namespace_virt_ad8241ef9d97d7bf0f5640079609c8e80}{Virt\+::virtual\+Memory\+Setup}} ()
\item 
void \mbox{\hyperlink{namespace_virt_afb1c9e876b4d13eafdb56f9390388649}{Virt\+::setup\+Page\+Swapping}} (int megs)
\item 
uint8\+\_\+t \mbox{\hyperlink{virtmgr_8cpp_a2417f806d46474c973a85e18ad2d06d7}{inb}} (uint16\+\_\+t)
\begin{DoxyCompactList}\small\item\em Reads from an 8 bit I/O port. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{virtmgr_8cpp_a13763a87ebee1e5eb31d764ef0e885d1}{map\+VASFirst\+Time}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_v_a_s}{VAS}} $\ast$ \mbox{\hyperlink{virtmgr_8cpp_a42691a7b3be17462bd2ec72e70c50887}{ke\+First\+VAS}} = nullptr
\item 
char \mbox{\hyperlink{namespace_virt_ab27a17ccd8838954c9f2df9854dea716}{Virt\+::swapfile\+Drive}} = \textquotesingle{}C\textquotesingle{}
\item 
size\+\_\+t \mbox{\hyperlink{namespace_virt_a0d29adea0625d0a9807bce922e90dfb4}{Virt\+::swapfile\+Sector}} = 98304
\item 
size\+\_\+t \mbox{\hyperlink{namespace_virt_a4aa13e38af6e220ce631d490a5bb2f73}{Virt\+::swapfile\+Length}} = 24576
\item 
int \mbox{\hyperlink{namespace_virt_ad5d4ba80af6048dc526a86968c046902}{Virt\+::swapfile\+Sectors\+Per\+Page}} = 4096 / 512
\item 
size\+\_\+t $\ast$ \mbox{\hyperlink{namespace_virt_a2ee5fc5c055dc526c3b22d4562d8cd95}{Virt\+::swapfile\+Bitmap}}
\item 
uint8\+\_\+t $\ast$ \mbox{\hyperlink{namespace_virt_a0a8b645864b3682518cc124d8afa6350}{Virt\+::bitmap}} = (uint8\+\_\+t$\ast$) \mbox{\hyperlink{main_8hpp_ade393999fa06e3abd112549bdd373692}{VIRT\+\_\+\+VIRT\+\_\+\+PAGE\+\_\+\+BITMAP}}
\item 
size\+\_\+t \mbox{\hyperlink{namespace_virt_a1cdd6d8200c521f1b9c0455a6e61a9d6}{Virt\+::page\+Alloc\+Ptr}} = \mbox{\hyperlink{main_8hpp_a56cebaa69e54f8da21a28f33fb440bed}{VIRT\+\_\+\+HEAP\+\_\+\+MIN}} / 4096
\item 
int \mbox{\hyperlink{virtmgr_8cpp_aab806abc06078a06287f830ea8ae50fb}{swap\+Balance}} = 0
\item 
int \mbox{\hyperlink{virtmgr_8cpp_a2736b09a84afff30ebb1b54a58965c03}{twswaps}} = 0
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{virtmgr_8cpp_a2417f806d46474c973a85e18ad2d06d7}\label{virtmgr_8cpp_a2417f806d46474c973a85e18ad2d06d7}} 
\index{virtmgr.cpp@{virtmgr.cpp}!inb@{inb}}
\index{inb@{inb}!virtmgr.cpp@{virtmgr.cpp}}
\doxysubsubsection{\texorpdfstring{inb()}{inb()}}
{\footnotesize\ttfamily uint8\+\_\+t inb (\begin{DoxyParamCaption}\item[{uint16\+\_\+t}]{port }\end{DoxyParamCaption})}



Reads from an 8 bit I/O port. 


\begin{DoxyParams}{Parameters}
{\em port} & The port number.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The data received.
\end{DoxyReturn}
\mbox{\Hypertarget{virtmgr_8cpp_a13763a87ebee1e5eb31d764ef0e885d1}\label{virtmgr_8cpp_a13763a87ebee1e5eb31d764ef0e885d1}} 
\index{virtmgr.cpp@{virtmgr.cpp}!mapVASFirstTime@{mapVASFirstTime}}
\index{mapVASFirstTime@{mapVASFirstTime}!virtmgr.cpp@{virtmgr.cpp}}
\doxysubsubsection{\texorpdfstring{mapVASFirstTime()}{mapVASFirstTime()}}
{\footnotesize\ttfamily void map\+VASFirst\+Time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{virtmgr_8cpp_a42691a7b3be17462bd2ec72e70c50887}\label{virtmgr_8cpp_a42691a7b3be17462bd2ec72e70c50887}} 
\index{virtmgr.cpp@{virtmgr.cpp}!keFirstVAS@{keFirstVAS}}
\index{keFirstVAS@{keFirstVAS}!virtmgr.cpp@{virtmgr.cpp}}
\doxysubsubsection{\texorpdfstring{keFirstVAS}{keFirstVAS}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_v_a_s}{VAS}}$\ast$ ke\+First\+VAS = nullptr}

\mbox{\Hypertarget{virtmgr_8cpp_aab806abc06078a06287f830ea8ae50fb}\label{virtmgr_8cpp_aab806abc06078a06287f830ea8ae50fb}} 
\index{virtmgr.cpp@{virtmgr.cpp}!swapBalance@{swapBalance}}
\index{swapBalance@{swapBalance}!virtmgr.cpp@{virtmgr.cpp}}
\doxysubsubsection{\texorpdfstring{swapBalance}{swapBalance}}
{\footnotesize\ttfamily int swap\+Balance = 0}

\mbox{\Hypertarget{virtmgr_8cpp_a2736b09a84afff30ebb1b54a58965c03}\label{virtmgr_8cpp_a2736b09a84afff30ebb1b54a58965c03}} 
\index{virtmgr.cpp@{virtmgr.cpp}!twswaps@{twswaps}}
\index{twswaps@{twswaps}!virtmgr.cpp@{virtmgr.cpp}}
\doxysubsubsection{\texorpdfstring{twswaps}{twswaps}}
{\footnotesize\ttfamily int twswaps = 0}

