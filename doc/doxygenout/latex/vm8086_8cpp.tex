\hypertarget{vm8086_8cpp}{}\doxysection{C\+:/\+Users/\+Alex/\+Desktop/\+Banana/kernel/vm86/vm8086.cpp File Reference}
\label{vm8086_8cpp}\index{C:/Users/Alex/Desktop/Banana/kernel/vm86/vm8086.cpp@{C:/Users/Alex/Desktop/Banana/kernel/vm86/vm8086.cpp}}
{\ttfamily \#include \char`\"{}vm86/vm8086.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}fs/vfs.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}krnl/hal.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}thr/prcssthr.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}hal/intctrl.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}hw/cpu.\+hpp\char`\"{}}\newline
{\ttfamily \#include $<$krnl/unaligned.\+hpp$>$}\newline
{\ttfamily \#include \char`\"{}libk/string.\+h\char`\"{}}\newline
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
namespace \mbox{\hyperlink{namespace_vm}{Vm}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{vm8086_8cpp_aa50403ed976b7cfb1b415c06e4af96ce}{go\+To\+VM86}} (size\+\_\+t ip, size\+\_\+t cs, size\+\_\+t sp, size\+\_\+t ss)
\item 
uint8\+\_\+t \mbox{\hyperlink{namespace_vm_aac8573436db8633be41f76ca6a18fade}{Vm\+::inbv}} (uint16\+\_\+t port)
\item 
void \mbox{\hyperlink{namespace_vm_ab144e263261da6de71d258c2a5faf911}{Vm\+::outbv}} (uint16\+\_\+t port, uint8\+\_\+t \mbox{\hyperlink{unaligned_8hpp_a66c6adb17a64370b8e95c4413da0c1b1}{val}})
\item 
uint32\+\_\+t \mbox{\hyperlink{namespace_vm_a2ad6eb8e72179c8ec3b2b3b0be301e37}{Vm\+::real\+To\+Linear}} (uint16\+\_\+t seg, uint16\+\_\+t off)
\item 
uint16\+\_\+t \mbox{\hyperlink{namespace_vm_a9efc0e638bfca7e13a3f352ddd7475ef}{Vm\+::get\+Segment}} (uint32\+\_\+t linear)
\item 
uint16\+\_\+t \mbox{\hyperlink{namespace_vm_a6e9e1aac9c9ee64c830135f7e92928c8}{Vm\+::get\+Offset}} (uint32\+\_\+t linear)
\item 
void \mbox{\hyperlink{namespace_vm_a08671df347c6b0a7565f6b0403f65cda}{Vm\+::mainloop2}} ()
\item 
void \mbox{\hyperlink{namespace_vm_a28932cf10328535859cdfc61573e503b}{Vm\+::mainloop3}} (size\+\_\+t retv)
\item 
void \mbox{\hyperlink{namespace_vm_aaa4609df375a4982fcefd04f8b115302}{Vm\+::main\+Vm8086\+Loop}} (void $\ast$context)
\item 
void \mbox{\hyperlink{namespace_vm_ae274d03e19de96b46473bd51a8e10ccb}{Vm\+::initialise8086}} ()
\item 
void \mbox{\hyperlink{namespace_vm_a3105add185c0eee7321ff391cf540f7e}{Vm\+::reset\+Conventional\+Memory8086}} ()
\item 
uint32\+\_\+t \mbox{\hyperlink{namespace_vm_a6f01e018c1e10fac2438557f850bc74e}{Vm\+::finish8086}} ()
\item 
int \mbox{\hyperlink{namespace_vm_a94ccbf5803aa5e944391153e7df3756a}{Vm\+::get\+Output8086}} (uint8\+\_\+t $\ast$buffer)
\item 
bool \mbox{\hyperlink{namespace_vm_a1d0d582237f874f6faf40a63dbe437ff}{Vm\+::start8086\+From\+Buffer}} (uint8\+\_\+t $\ast$buffer, int siz, uint16\+\_\+t ip, uint16\+\_\+t cs, uint16\+\_\+t sp, uint16\+\_\+t ss)
\item 
bool \mbox{\hyperlink{namespace_vm_a2d4f44be220f52aad4565ef9eaa21935}{Vm\+::start8086}} (const char $\ast$filename, uint16\+\_\+t ip, uint16\+\_\+t cs, uint16\+\_\+t sp, uint16\+\_\+t ss)
\item 
void \mbox{\hyperlink{namespace_vm_aee3e6d35b0d52022e2d3ba7a6077524b}{Vm\+::do\+ISR}} (\mbox{\hyperlink{structregs}{regs}} $\ast$r, int irqN, uint8\+\_\+t $\ast$ip, uint16\+\_\+t ss, uint16\+\_\+t sp)
\item 
uint8\+\_\+t \mbox{\hyperlink{namespace_vm_aac90834c525cd988a8adbd7562084cee}{Vm\+::read\+Byte\+From\+Real}} (uint16\+\_\+t seg, uint16\+\_\+t off)
\item 
uint16\+\_\+t \mbox{\hyperlink{namespace_vm_a317060760b56db93c5ee6da0dde88630}{Vm\+::read\+Word\+From\+Real}} (uint16\+\_\+t seg, uint16\+\_\+t off)
\item 
uint32\+\_\+t \mbox{\hyperlink{namespace_vm_a3fb7351456d84572295c0feabcbe1194}{Vm\+::read\+Dword\+From\+Real}} (uint16\+\_\+t seg, uint16\+\_\+t off)
\item 
void \mbox{\hyperlink{namespace_vm_a4083ae23650eade9bcc57b94c07037dd}{Vm\+::write\+Byte\+From\+Real}} (uint16\+\_\+t seg, uint16\+\_\+t off, uint8\+\_\+t byte)
\item 
void \mbox{\hyperlink{namespace_vm_ae10d990311cdf4fd4fd9599e2d6e69a3}{Vm\+::write\+Word\+From\+Real}} (uint16\+\_\+t seg, uint16\+\_\+t off, uint16\+\_\+t byte)
\item 
void \mbox{\hyperlink{namespace_vm_ac1b033ad2b8ee8e2adb158169cf34b6b}{Vm\+::write\+Dword\+From\+Real}} (uint16\+\_\+t seg, uint16\+\_\+t off, uint32\+\_\+t byte)
\item 
bool \mbox{\hyperlink{namespace_vm_a91691fc2abeea6843bfee1428b2ee48a}{Vm\+::fault\+Handler}} (\mbox{\hyperlink{structregs}{regs}} $\ast$r)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
uint8\+\_\+t \mbox{\hyperlink{namespace_vm_a679a59981e7ee5c21f90363824918048}{Vm\+::vm\+To\+Host\+Comms}} \mbox{[}32\mbox{]}
\item 
int \mbox{\hyperlink{namespace_vm_a09a47373336137ec037cfe578204ece9}{Vm\+::vm\+To\+Host\+Comms\+Ptr}} = 0
\item 
\mbox{\hyperlink{struct_thread_control_block}{Thread\+Control\+Block}} $\ast$ \mbox{\hyperlink{namespace_vm_a85a113b8d5f82d3f16aafac5e39a3007}{Vm\+::vm86\+Thread}}
\item 
bool \mbox{\hyperlink{namespace_vm_a447da9ca24f9938a4ab61347e03558cb}{Vm\+::vm\+Ready}} = false
\item 
bool \mbox{\hyperlink{namespace_vm_aca0e177f673e894dd21063c16086a0db}{Vm\+::vm\+Done}} = false
\item 
uint32\+\_\+t \mbox{\hyperlink{namespace_vm_a49774c7e532cd58a3a77b6b6a8147d95}{Vm\+::vm\+RetV}}
\item 
bool \mbox{\hyperlink{namespace_vm_a2ab6bc655744a6c361aa4947ed8388da}{Vm\+::started8086\+Yet}} = false
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{vm8086_8cpp_aa50403ed976b7cfb1b415c06e4af96ce}\label{vm8086_8cpp_aa50403ed976b7cfb1b415c06e4af96ce}} 
\index{vm8086.cpp@{vm8086.cpp}!goToVM86@{goToVM86}}
\index{goToVM86@{goToVM86}!vm8086.cpp@{vm8086.cpp}}
\doxysubsubsection{\texorpdfstring{goToVM86()}{goToVM86()}}
{\footnotesize\ttfamily void go\+To\+VM86 (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{ip,  }\item[{size\+\_\+t}]{cs,  }\item[{size\+\_\+t}]{sp,  }\item[{size\+\_\+t}]{ss }\end{DoxyParamCaption})}

